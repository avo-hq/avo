<!DOCTYPE html>

<!-- ✨ Built with Avo • https://www.avohq.io/ -->
<html lang="<%= I18n.locale %>" dir="<%= text_direction %>">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <% if !Avo.configuration.turbo[:instant_click] %>
      <meta name="turbo-prefetch" content="false">
    <% end %>

    <%= display_meta_tags site: Avo.configuration.app_name, reverse: true, separator: "—" %>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= favicon_link_tag "avo/favicon.ico" %>
    <%= render partial: "avo/partials/javascript" %>
    <%= render partial: "avo/partials/branding" %>
    <%= render partial: "avo/partials/pre_head" %>
    <%= render Avo::AssetManager::StylesheetComponent.new asset_manager: Avo.asset_manager %>
    <%= stylesheet_link_tag @stylesheet_assets_path, "data-turbo-track": "reload", as: "style" %>

    <%= javascript_include_tag "avo/application", "data-turbo-track": "reload", defer: true %>

    <% if !Avo::PACKED && defined?(Hotwire::Livereload) %>
      <%= javascript_include_tag "hotwire-livereload", defer: true %>
    <% end %>

    <%= render Avo::AssetManager::JavascriptComponent.new asset_manager: Avo.asset_manager %>
    <%= render partial: "avo/partials/head" %>
    <%= render partial: 'avo/partials/color_theme_override' %>
    <%= content_for :head %>
  </head>

  <body class="<%= class_names("os-mac floating-controls bg-background", "all-fields-stacked": Avo.configuration.use_stacked_fields) %>">
    <div
      class="relative flex min-h-dvh w-full flex-1"
      data-controller="sidebar"
      data-sidebar-open-value="<%= @sidebar_open %>"
    >
      <div class="flex max-w-full flex-1 flex-col">
        <%= render partial: "avo/partials/navbar", locals: { resource: @resource } %>

        <div data-sidebar-target="mainArea" class="main relative flex flex-1 <%= "sidebar-open" if @sidebar_open %>">
          <div class="hidden lg:flex"><%= render Avo::SidebarComponent.new sidebar_open: @sidebar_open %></div>

          <div class="flex lg:hidden">
            <%= render Avo::SidebarComponent.new sidebar_open: false, for_mobile: true %>
          </div>

          <div class="main-content-area">
            <div class="mb-4">
              <%= render Avo::BreadcrumbsComponent.new(items: avo_breadcrumbs) %>
            </div>

            <%= render partial: "avo/partials/custom_tools_alert" %>

            <div class="scrollable-wrapper">
              <div class="avo-container <%= container_classes %>">
                <%= yield.force_encoding("UTF-8") %>

              <%= render partial: "avo/partials/footer" %>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <%= turbo_frame_tag Avo::MODAL_FRAME_ID %>
    <%= render partial: "avo/partials/alerts" %>
    <%= render partial: "avo/partials/scripts" %>
    <%= render partial: "avo/partials/confirm_dialog" %>
  </body>
</html>

<!-- ✨ Built with Avo • https://www.avohq.io/ -->
