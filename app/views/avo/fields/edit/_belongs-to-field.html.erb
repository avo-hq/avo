<%= edit_field_wrapper field: field, index: index, form: form, displayed_in_modal: displayed_in_modal do %>
  <%= form.select field.foreign_key, options_for_select(field.options.map { |o| [o[:label], o[:value]] }, field.value.present? ? field.value.id : nil),
    {
      include_blank: field.placeholder,
    },
    {
      class: input_classes('w-full select-input', has_error: (@model.present? and @model.errors.include?(field.id))),
      disabled: field.readonly
    }
    %>
<% end %>
