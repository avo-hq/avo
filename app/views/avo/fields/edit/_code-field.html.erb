<%= edit_field_wrapper field: field, index: index, form: form, displayed_in_modal: displayed_in_modal, full_width: true do %>
  <div data-controller="code-field">
    <%= form.text_area field.id,
      class: input_classes('w-full', has_error: (@model.present? and @model.errors.include?(field.id))),
      placeholder: field.placeholder,
      disabled: field.readonly,
      data: {
        'code-field-target': 'element',
        view: :edit,
        language: field.language,
        theme: field.theme,
        'tab-size': field.tab_size,
        'read-only': field.readonly ? 1 : 0,
        'indent-with-tabs': field.indent_with_tabs ? 1 : 0,
        'line-wrapping': field.line_wrapping ? 1 : 0,
      }
    %>
  </div>
<% end %>
