<%= turbo_frame_tag 'destroy_attachment_form' do %>
  <%= form_with url: "#{avo.root_path}resources/#{params[:resource_name]}/#{params[:id]
    }/active_storage_attachments/#{params[:attachment_name]}/#{params[:signed_attachment_id]}",
    method: :delete,
    html: {
      'data-turbo-frame': 'destroy_attachment_form',
      'data-controller': 'attachments',
      'data-attachments-target': 'form',
      class: 'hidden'
    } do |form| %>
    <%= form.button 'destroy', type: :submit %>
    <%= form.hidden_field :referrer, value: request.referer, id: "referrer_destroy_attachment_#{params[:signed_attachment_id]}" %>
  <% end %>
<% end %>
