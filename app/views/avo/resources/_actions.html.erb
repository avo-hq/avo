<% if @actions.count > 0 %>
  <div class="relative z-30" data-controller="toggle-panel actions-picker">
    <%= a_button class: "js-actions-dropdown-button focus:outline-none",
      color: "blue",
      'data-action': "click->toggle-panel#togglePanel",
      disabled: action_name != 'show' do
    %>
      <%= svg 'media/svgs/arrow-left.svg', class: 'h-4 mr-1 transform -rotate-90' %> <%= t 'avo.actions' %>
    <% end %>
    <div
      class="absolute block inset-auto right-0 top-full bg-white min-w-300px mt-2 py-4 z-20 shadow-context rounded-xl overflow-hidden hidden"
      data-toggle-panel-target="panel"
    >
      <%
        @actions.each_with_index do |action, index|
          case action.class.superclass.to_s
          when Avo::Filters::SelectFilter.to_s
            template = 'select_action'
          when Avo::Filters::BooleanFilter.to_s
            template = 'boolean_action'
          end
          link = action_name == 'show' ? "/avo/resources/#{@resource.model_class.model_name.route_key}/#{@model.id}/actions/#{action.param_id}" : "/avo/resources/#{@resource.model_class.model_name.route_key}/actions/#{action.param_id}"
      %>
        <%= link_to link,
          'data-turbo-frame': 'actions_show',
          'data-action': 'click->actions-picker#visitAction',
          class: 'flex items-center w-full py-2 px-4 font-bold text-gray-700 hover:text-white hover:bg-blue-500' do %>
          <%= svg 'media/svgs/play.svg', extra_class: 'inline' %> <%= action.name %>
        <% end %>
      <% end %>
    </div>
  </div>
<% end %>
