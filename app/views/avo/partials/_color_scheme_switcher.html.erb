<%
  current_scheme = @color_scheme || ""
  current_scheme = "auto" if current_scheme.blank?
%>
<div class="color-scheme-switcher">
  <%= link_to avo.color_scheme_path(color_scheme: :auto),
    class: class_names(
      "color-scheme-switcher__button",
      "color-scheme-switcher__button--active": current_scheme == "auto"
    ),
    data: {turbo_method: :post, turbo_frame: :_top},
    title: "Auto (system preference)" do %>
    <%= svg "heroicons/outline/computer-desktop", class: "color-scheme-switcher__icon" %>
    <span class="sr-only">Auto</span>
  <% end %>
  <%= link_to avo.color_scheme_path(color_scheme: :light),
    class: class_names(
      "color-scheme-switcher__button",
      "color-scheme-switcher__button--active": current_scheme == "light"
    ),
    data: {turbo_method: :post, turbo_frame: :_top},
    title: "Light mode" do %>
    <%= svg "heroicons/outline/sun", class: "color-scheme-switcher__icon" %>
    <span class="sr-only">Light</span>
  <% end %>
  <%= link_to avo.color_scheme_path(color_scheme: :dark),
    class: class_names(
      "color-scheme-switcher__button",
      "color-scheme-switcher__button--active": current_scheme == "dark"
    ),
    data: {turbo_method: :post, turbo_frame: :_top},
    title: "Dark mode" do %>
    <%= svg "heroicons/outline/moon", class: "color-scheme-switcher__icon" %>
    <span class="sr-only">Dark</span>
  <% end %>
</div>
