<%
  # @todo: add avo styling to paginator
  per_page_options = [*Avo.configuration.per_page_steps, Avo.configuration.per_page.to_i, @index_params[:per_page].to_i].sort.uniq
%>

<div class="bg-white px-4 flex items-center justify-between aborder-t aborder-blue-gray-200 sm:px-6 rounded-xl">
  <div class="hidden sm:flex-2 sm:flex sm:items-center sm:justify-between">
    <div>
      <div class="text-sm leading-5 text-blue-gray-600 flex items-center">
        <div class="mr-2"><%== pagy_info @pagy %></div>

        <div data-controller="per-page">
          <div class="flex items-center">
            <%= select_tag 'per_page', options_for_select(per_page_options, @index_params[:per_page]), class: 'appearance-none inline-flex bg-blue-gray-100 disabled:bg-blue-gray-400 disabled:cursor-not-allowed focus:bg-white text-blue-gray-700 disabled:text-blue-gray-600 rounded-md py-1 px-2 leading-tight border border-blue-gray-300 outline-none focus:border-blue-gray-400 outline w-16 mr-1 text-sm', 'data-per-page-target': 'selector', 'data-action': 'change->per-page#reload' %> <%= t('avo.per_page').downcase %>
          </div>

          <% per_page_options.each do |option| %>
            <%= link_to "Change to #{option} items per page", resources_path(@resource.model_class, per_page: option, keep_query_params: true), class: 'hidden', 'data-per-page-option': option, 'data-turbo-frame': turbo_frame %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
  <div class="flex">
    <div class="flex-2 sm:flex sm:items-center sm:justify-between">
      <%# @todo: add first & last page. make the first and last buttons rounded %>
      <%== pagy_nav @pagy %>
    </div>
  </div>
</div>
