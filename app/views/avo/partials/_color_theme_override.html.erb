<script>
  // On page load or when changing themes, best to add inline in `head` to avoid FOUC
  if ('<%= @color_scheme %>' === 'dark' || ('<%= @color_scheme %>' == '' && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
    document.documentElement.classList.add('dark')
  } else {
    document.documentElement.classList.remove('dark')
  }

  // Apply theme class
  // Remove all theme- classes first
  document.documentElement.classList.remove('theme-slate', 'theme-stone')

  // Add the selected theme class (brand means no theme class)
  <% if @theme.present? && @theme != 'brand' %>
    document.documentElement.classList.add('theme-<%= @theme %>')
  <% end %>
</script>
