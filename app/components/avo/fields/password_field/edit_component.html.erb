<%= field_wrapper(**field_wrapper_args) do %>
  <div class="relative" data-controller="<%= @field.revealable && !disabled? ? 'password-visibility' : nil %>">
    <%= @form.password_field @field.id,
      value: @field.value,
      class: classes("w-full"),
      data: @field.get_html(:data, view: view, element: :input).merge(password_visibility_target: "input"),
      disabled: disabled?,
      placeholder: @field.placeholder,
      style: @field.get_html(:style, view: view, element: :input),
      autocomplete: @field.autocomplete,
      autofocus: @autofocus
    %>

    <% if @field.revealable %>
      <button data-action="password-visibility#toggle" type="button" class="input-field__password-toggle">
        <%= helpers.svg('tabler/outline/eye', data: { 'password-visibility-target': 'icon' }) %>
        <%= helpers.svg('tabler/outline/eye-off', class: "hidden", data: { 'password-visibility-target': 'icon' }) %>
      </button>
    <% end %>
  </div>
<% end %>
