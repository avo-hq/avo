<%= link_to helpers.avo.media_library_item_path(attachment),
  id: dom_id(attachment),
  class: "relative min-h-full max-w-full flex-1 flex flex-col justify-between gap-2 border border-slate-200 p-1.5 rounded-xl",
  data: {
    turbo_frame: 'media_library_item_details',
    attachment_id: attachment.id,
    media_library_attachment_param: attachment.as_json,
    media_library_blob_param: attachment.blob.as_json,
    action: 'click->media-library#selectItem'
  } do %>
  <div class="flex flex-col h-full aspect-video overflow-hidden rounded-lg">
    <% if attachment.representable? %>
      <%= image_tag helpers.main_app.url_for(attachment.blob), class: "max-w-full self-start #{@extra_classes}", loading: :lazy, width: attachment.blob.metadata["width"], height: attachment.blob.metadata["height"] %>
    <% elsif is_audio? %>
      <%= audio_tag(helpers.main_app.url_for(attachment), controls: true, preload: false, class: 'w-full') %>
    <% elsif is_video? %>
      <%= video_tag(helpers.main_app.url_for(attachment), controls: true, preload: false, class: 'w-full') %>
    <% else %>
      <div class="relative flex flex-col justify-evenly items-center px-2 border bg-white border-gray-500 min-h-24">
        <div class="flex flex-col justify-center items-center w-full">
          <%= helpers.svg "heroicons/outline/document-text", class: 'h-10 text-gray-600 mb-2' %>
        </div>
      </div>
    <% end %>
  </div>
  <div class="flex space-x-2">
    <% if @display_filename %>
      <span class="text-gray-500 mt-1 text-sm truncate" title="<%= attachment.filename %>"><%= attachment.filename %></span>
    <% end %>
    <%#= render Avo::Fields::Common::Files::ControlsComponent.new(field: @field, file: attachment, resource: @resource) %>
  </div>
<% end %>
