<%= render ui.panel(title: @item.title, description: @item.description, index: @index) do |panel| %>
  <% if @resource.cover_photo.present? %>
    <% panel.with_cover_photo do %>
      <%= render Avo::CoverPhotoComponent.new cover_photo: @resource.cover_photo %>
    <% end %>
  <% end %>

  <% panel.with_body do %>
    <%= render Avo::Items::VisibleItemsComponent.new resource: @resource, item: @item, view: @view, form: @form, parent_component: @parent_component %>
  <% end %>

  <% if sidebars.any? { |sidebar| sidebar.visible_items.any? } %>
    <% panel.with_sidebar do %>
      <div class="justify-between space-y-4">
        <% sidebars.each_with_index do |sidebar, index| %>
          <%= render Avo::ResourceSidebarComponent.new resource: @resource, sidebar: sidebar, params: params, view: view, form: @form, index: index %>
        <% end %>
      </div>
    <% end %>
  <% end %>
<% end %>
