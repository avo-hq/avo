:root {
  --top-navbar-height: 4rem;
}

.top-navbar {
  height: var(--top-navbar-height);
}

/* The sidebar width stays the same regardless of the sidebar open state. */
/* The content width and margin offset changes based on the sidebar open state and the :lg breakpoint. */
.main {
  --sidebar-width: --spacing(64);
  --sidebar-offset-size: 0rem;
  --content-width: calc(100% - var(--sidebar-offset-size) - var(--spacing)*2);

  @media (min-width: theme(--breakpoint-lg)) {
    &.sidebar-open {
      --sidebar-offset-size: var(--sidebar-width);
    }
  }

  @apply mt-(--top-navbar-height);

  .main-content-area {
    @apply w-(--content-width) ms-1 flex flex-1 flex-col z-50 fixed rounded-2xl bg-primary shadow-content p-4 h-full;

    transition: margin 0.1s ease-in-out, width 0.1s ease-in-out;

    height: calc(100dvh - var(--spacing) - var(--top-navbar-height));

    .scrollable-wrapper {
      @apply overflow-y-auto h-full flex-1 flex flex-col;
    }
    .avo-container {
      @apply  flex flex-1 flex-col justify-between gap-y-8;
    }
  }

  &.sidebar-open {
    /* Add padding to the main area to allow for the sidebar to expand. */
    .main-content-area {
      @media (min-width: theme(--breakpoint-lg)) {
        margin-inline-start: calc(var(--sidebar-width) + var(--spacing));
        width: var(--content-width);

      }
    }
  }
}

.container-large {
  @apply 2xl:container 2xl:mx-auto;
}

.container-small {
  @apply lg:px-0 lg:max-w-196 lg:mx-auto;
}

.container-full-width {
  @apply w-full;
}

.top-navbar {
  @apply z-100 fixed w-full flex shrink-0 items-center px-4 lg:px-0 space-x-4 rtl:space-x-reverse lg:space-x-0;
}

/* Default hidden state - LTR: sidebar slides in from left */
.avo-sidebar {
  @apply fixed z-60 top-0 flex-1 border-e border-gray-200 lg:border-none bg-none mt-(--top-navbar-height) h-[calc(100dvh-var(--top-navbar-height))] bg-application lg:bg-transparent w-(--sidebar-width);

  transform: translateX(-100%);
  transition: transform 0.1s ease;

  .active:hover,
  .active {
    @apply bg-primary-100 text-primary-500;
  }
}

/* RTL: sidebar slides in from right when hidden */
html[dir="rtl"] .avo-sidebar {
  transform: translateX(100%);
}

/* When sidebar is open, show it (same for both LTR and RTL) */
.sidebar-open .avo-sidebar {
  transform: translateX(0);
}

/* RTL: ensure sidebar is visible when open (higher specificity) */
html[dir="rtl"] .sidebar-open .avo-sidebar {
  transform: translateX(0);
}
