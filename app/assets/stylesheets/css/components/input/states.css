/* ==========================================================================
  Placeholder (fallback for inputs without size modifier)
  ========================================================================== */
select::placeholder,
textarea::placeholder,
.textarea-field::placeholder,
input::placeholder,
.input-field::placeholder {
  @apply font-normal text-content-secondary overflow-hidden text-ellipsis whitespace-nowrap;
}

/* ==========================================================================
  State: Hover
  ========================================================================== */
select:hover:not(:disabled),
textarea:hover:not(:disabled),
.textarea-field:hover:not(:disabled),
input:not([type="range"]):not([type="checkbox"]):not([type="radio"]):hover:not(:disabled),
.input-field:hover:not(:disabled) {
  @apply bg-secondary;
}

/* ==========================================================================
  State: Focus
  ========================================================================== */
select:focus,
textarea:focus,
.textarea-field:focus,
input:not([type="range"]):not([type="checkbox"]):not([type="radio"]):focus,
.input-field:focus {
  @apply outline-none;

  box-shadow: none;
}

select:focus-visible,
textarea:focus-visible,
.textarea-field:focus-visible,
input:not([type="range"]):not([type="checkbox"]):not([type="radio"]):focus-visible,
.input-field:focus-visible {
  @apply outline-none;
  box-shadow: var(--box-shadow-focus);
}

/* ==========================================================================
  State: Active
  ========================================================================== */
select:active:not(:disabled),
textarea:active:not(:disabled),
.textarea-field:active:not(:disabled),
input:not([type="range"]):not([type="checkbox"]):not([type="radio"]):active:not(:disabled),
.input-field:active:not(:disabled) {
  box-shadow: var(--box-shadow-active);
}

/* ==========================================================================
  State: Disabled
  ========================================================================== */

select:disabled,
textarea:disabled,
.textarea-field:disabled,
input:not([type="range"]):not([type="checkbox"]):not([type="radio"]):disabled,
.input-field:disabled {
  @apply cursor-not-allowed opacity-60 mix-blend-luminosity;
}

select:disabled:hover,
textarea:disabled:hover,
.textarea-field:disabled:hover,
input:not([type="range"]):not([type="checkbox"]):not([type="radio"]):disabled:hover,
.input-field:disabled:hover {
  @apply bg-primary;
}

/* ==========================================================================
  State: Error
  ========================================================================== */

/* Match base specificity: base uses input:not():not():not() so we need same + class */
select.input-field--error,
textarea.input-field--error,
.textarea-field.input-field--error,
input:not([type="range"]):not([type="checkbox"]):not([type="radio"]).input-field--error,
.input-field.input-field--error {
  @apply text-danger-content;

  box-shadow: var(--box-shadow-error);
}

select.input-field--error:focus-visible,
textarea.input-field--error:focus-visible,
.textarea-field.input-field--error:focus-visible,
input:not([type="range"]):not([type="checkbox"]):not([type="radio"]).input-field--error:focus-visible,
.input-field.input-field--error:focus-visible {
  @apply text-content;
}

select.input-field--error::placeholder,
textarea.input-field--error::placeholder,
.textarea-field.input-field--error::placeholder,
input:not([type="range"]):not([type="checkbox"]):not([type="radio"]).input-field--error::placeholder,
.input-field.input-field--error::placeholder {
  @apply text-danger-content;
}

/* ==========================================================================
  State: Success
  ========================================================================== */

select.input-field--success,
textarea.input-field--success,
.textarea-field.input-field--success,
input:not([type="range"]):not([type="checkbox"]):not([type="radio"]).input-field--success,
.input-field.input-field--success {
  box-shadow: var(--box-shadow-success);
}

/* ==========================================================================
  State: Loading
  ========================================================================== */

@keyframes input-spinner-rotation {
  from {
    transform: translateY(-50%) rotate(0deg);
  }
  to {
    transform: translateY(-50%) rotate(360deg);
  }
}
