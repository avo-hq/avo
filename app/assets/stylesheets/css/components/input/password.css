/* ==========================================================================
  State: Password Visibility
  ========================================================================== */
/* password visibility button */
.input-field__password-toggle {
  @apply absolute text-content-secondary inset-y-0 end-0 px-1 flex items-center cursor-pointer;
}

/* Password inputs need padding for the toggle button */
input:has(~ .input-field__password-toggle),
.input-field:has(~ .input-field__password-toggle) {
  @apply pe-7;
}

/* ==========================================================================
  State: Icon Size
  ========================================================================== */

/* Small size */
.input--size-sm ~ .input-field__password-toggle svg {
  @apply size-3.5;
}

/* Medium size */
.input-field ~ .input-field__password-toggle svg,
input ~ .input-field__password-toggle svg,
.input--size-md ~ .input-field__password-toggle svg {
  @apply size-4;
}

/* Large size */
.input--size-lg ~ .input-field__password-toggle svg {
  @apply size-4.5;
}

/* ==========================================================================
  State: Password Icon Disabled
  ========================================================================== */

input:disabled ~ .input-field__password-toggle,
.input-field:disabled ~ .input-field__password-toggle {
  @apply pointer-events-none opacity-60 cursor-not-allowed;
}

/* ==========================================================================
  State: Password Icon Disabled and Loading
  ========================================================================== */

/* Move the toggle button left when loading spinner is present */
/* Size-specific adjustments */
.input-wrapper--loading:has(.input--size-sm) .input-field__password-toggle {
  @apply end-5;
}

.input-wrapper--loading:has(.input--size-md) .input-field__password-toggle {
  @apply end-6;
}

.input-wrapper--loading:has(.input--size-lg) .input-field__password-toggle {
  @apply end-6.5;
}

/* Password input with loading spinner needs extra padding for both icons */
/* Override the default pe-7 from field-wrapper.css to account for toggle + spinner */
.input-wrapper--loading:has(.input-field__password-toggle) input,
.input-wrapper--loading:has(.input-field__password-toggle) .input-field {
  @apply pe-11;
}

.input-wrapper--loading:has(.input-field__password-toggle):has(.input--size-sm) input,
.input-wrapper--loading:has(.input-field__password-toggle):has(.input--size-sm) .input-field {
  @apply pe-10;
}

.input-wrapper--loading:has(.input-field__password-toggle):has(.input--size-md) input,
.input-wrapper--loading:has(.input-field__password-toggle):has(.input--size-md) .input-field {
  @apply pe-11;
}

.input-wrapper--loading:has(.input-field__password-toggle):has(.input--size-lg) input,
.input-wrapper--loading:has(.input-field__password-toggle):has(.input--size-lg) .input-field {
  @apply pe-12;
}
