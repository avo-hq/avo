/* Text Input Component - Based on Figma Design System */
/* BEM Methodology: .input (block), .input__field (element), .input--modifier (modifier) */

/* ==========================================================================
  Base Styles
  ========================================================================== */

.input__field {
  @apply appearance-none inline-flex self-stretch bg-primary text-content rounded-lg border border-tertiary px-2 font-normal overflow-hidden text-ellipsis whitespace-nowrap relative;

  box-shadow: var(--box-shadow);
}

/* ==========================================================================
  Size Variants
  ========================================================================== */

/* Small */
.input__field--sm,
.input__field--sm::placeholder {
  @apply py-1 text-xs leading-4;
}

/* Medium (default) */
.input__field--md,
.input__field--md::placeholder {
  @apply py-1.5 text-sm leading-5;
}

/* Large */
.input__field--lg,
.input__field--lg::placeholder {
  @apply py-2.5 text-sm leading-5;
}

/* ==========================================================================
  Placeholder (fallback for inputs without size modifier)
  ========================================================================== */

.input__field::placeholder {
  @apply font-normal text-content-secondary overflow-hidden text-ellipsis whitespace-nowrap;
}

/* ==========================================================================
  State: Hover
  ========================================================================== */

.input__field:hover:not(:disabled) {
  @apply bg-secondary;
}

/* ==========================================================================
  State: Focus
  ========================================================================== */

.input__field:focus {
  @apply outline-none;

  box-shadow: none;
}

.input__field:focus-visible {
  @apply outline-none;
  box-shadow: var(--box-shadow-focus);
}

/* ==========================================================================
  State: Active
  ========================================================================== */

.input__field:active:not(:disabled) {
  box-shadow: var(--box-shadow-active);
}

/* ==========================================================================
  State: Disabled
  ========================================================================== */

.input__field:disabled {
  @apply cursor-not-allowed opacity-60 mix-blend-luminosity;
}

.input__field:disabled:hover {
  @apply bg-primary;
}

/* ==========================================================================
  State: Error
  ========================================================================== */

.input__field--error {
  @apply text-danger-content;

  box-shadow: var(--box-shadow-error);
}

.input__field--error:focus-visible {
  @apply text-content;
}

.input__field--error::placeholder {
  @apply text-danger-content;
}

/* ==========================================================================
  State: Success
  ========================================================================== */

.input__field--success {
  box-shadow: var(--box-shadow-success);
}

/* ==========================================================================
  State: Loading
  ========================================================================== */

.input__field--loading {
  @apply pe-7;
}

@keyframes input-spinner-rotation {
  from {
    transform: translateY(-50%) rotate(0deg);
  }
  to {
    transform: translateY(-50%) rotate(360deg);
  }
}


/* ==========================================================================
  State: Password Visibility
  ========================================================================== */
/* password visibility button */
.input__field--password-visibility {
  @apply absolute text-content-secondary inset-y-0 end-0 pe-2 flex items-center cursor-pointer;
}

/* Both icons (loading AND password) */
.input__field--loading ~ .input__field--password-visibility {
  @apply pe-7;
}

/* ==========================================================================
  State: Icon Size
  ========================================================================== */

/* Small size */
.field-wrapper__input:has(.input__field--sm.input__field--date)::after,
.input__field--sm ~ .input__field--password-visibility svg {
  @apply size-5.5;
}

/* Medium size */
.field-wrapper__input:has(.input__field--md.input__field--date)::after,
.input__field--md ~ .input__field--password-visibility svg {
  @apply size-6;
}

/* Large size */
.field-wrapper__input:has(.input__field--lg.input__field--date)::after,
.input__field--lg ~ .input__field--password-visibility svg {
  @apply size-6.5;
}


/* ==========================================================================
  State: Password Icon Disabled
  ========================================================================== */

.input__field:disabled ~ .input__field--password-visibility svg {
  @apply opacity-60 cursor-not-allowed;
}
