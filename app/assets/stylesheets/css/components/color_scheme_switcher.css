/* Color Scheme Switcher Component - Based on Design System */
.color-scheme-switcher {
  @apply inline-flex items-center gap-1 p-1 rounded-lg bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700;
}

.color-scheme-switcher__button {
  @apply inline-flex items-center justify-center p-1.5 rounded-md transition-all duration-150 text-neutral-600 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-700 focus:outline-none focus:ring-2 focus:ring-primary-400 focus:ring-offset-1 active:scale-95;
  @apply border-0 bg-transparent cursor-pointer;
}

/* Theme buttons - active states using Tailwind variants */
.color-scheme-switcher__button[data-theme="brand"] {
  /* Active by default (when no theme class is present) */
  @apply bg-white dark:bg-neutral-700 text-primary-600 dark:text-primary-400 shadow-sm;
  /* Inactive when theme variants are active */
  @apply theme-slate:bg-transparent theme-slate:text-neutral-600 theme-slate:dark:text-neutral-400 theme-slate:shadow-none;
  @apply theme-stone:bg-transparent theme-stone:text-neutral-600 theme-stone:dark:text-neutral-400 theme-stone:shadow-none;
}

.color-scheme-switcher__button[data-theme="slate"] {
  /* Inactive by default, active when theme-slate variant is present */
  @apply bg-transparent text-neutral-600 dark:text-neutral-400 shadow-none;
  @apply theme-slate:bg-white theme-slate:dark:bg-neutral-700 theme-slate:text-primary-600 theme-slate:dark:text-primary-400 theme-slate:shadow-sm;
  @apply gap-1.5;
}

.color-scheme-switcher__button[data-theme="stone"] {
  /* Inactive by default, active when theme-stone variant is present */
  @apply bg-transparent text-neutral-600 dark:text-neutral-400 shadow-none;
  @apply theme-stone:bg-white theme-stone:dark:bg-neutral-700 theme-stone:text-primary-600 theme-stone:dark:text-primary-400 theme-stone:shadow-sm;
  @apply gap-1.5;
}

/* Scheme buttons - active states using scheme selection classes */
.color-scheme-switcher__button[data-scheme="light"] {
  /* Inactive by default */
  @apply bg-transparent text-neutral-600 dark:text-neutral-400 shadow-none;
}

/* Active when scheme-light class is present */
.scheme-light .color-scheme-switcher__button[data-scheme="light"] {
  @apply bg-white text-primary-600 shadow-sm;
  @apply dark:bg-transparent dark:text-neutral-400 dark:shadow-none;
}

.color-scheme-switcher__button[data-scheme="dark"] {
  /* Inactive by default */
  @apply bg-transparent text-neutral-600 dark:text-neutral-400 shadow-none;
}

/* Active when scheme-dark class is present */
.scheme-dark .color-scheme-switcher__button[data-scheme="dark"] {
  @apply bg-white dark:bg-neutral-700 text-primary-600 dark:text-primary-400 shadow-sm;
}

.color-scheme-switcher__button[data-scheme="auto"] {
  /* Inactive by default */
  @apply bg-transparent text-neutral-600 dark:text-neutral-400 shadow-none;
}

/* Active when scheme-auto class is present */
.scheme-auto .color-scheme-switcher__button[data-scheme="auto"] {
  @apply bg-white dark:bg-neutral-700 text-primary-600 dark:text-primary-400 shadow-sm;
}

.color-scheme-switcher__icon {
  @apply size-4;
}

.color-scheme-switcher__text {
  @apply text-xs font-medium px-1;
}

/* Accent color dropdown */
.color-scheme-switcher__accent-wrapper {
  @apply relative;
}

.color-scheme-switcher__accent-panel {
  @apply absolute top-full mt-2 end-0 z-40;
  @apply rounded-lg bg-white dark:bg-neutral-800;
  @apply border border-neutral-200 dark:border-neutral-700;
  @apply shadow-lg p-2 min-w-[160px];
  animation: css-animate-slide-down 0.15s ease-out;
}

.color-scheme-switcher__accent-options {
  @apply grid grid-cols-3 gap-2;
}

.color-scheme-switcher__accent-option {
  @apply flex items-center justify-center p-1;
  @apply rounded-md transition-all duration-150;
  @apply hover:bg-neutral-100 dark:hover:bg-neutral-700;
  @apply focus:outline-none focus:ring-2 focus:ring-primary-400 focus:ring-offset-1;
  @apply border-0 bg-transparent cursor-pointer;
}

.color-scheme-switcher__accent-preview {
  @apply size-6 rounded-full border-2 border-white dark:border-neutral-600 shadow-sm;
}

.color-scheme-switcher__accent-preview--neutral {
  @apply bg-neutral-400 dark:bg-neutral-500;
  background-image: linear-gradient(135deg, transparent 45%, white 45%, white 55%, transparent 55%);
}

/* Accent button with badge */
.color-scheme-switcher__button--accent {
  @apply relative;
}

.color-scheme-switcher__accent-badge {
  @apply absolute top-0 end-0;
  @apply translate-x-1/2 -translate-y-1/2;
  @apply hidden;
}

.color-scheme-switcher__accent-badge-preview {
  @apply size-2 rounded-full border border-white dark:border-neutral-800 shadow-sm;
  @apply hidden;
}

.color-scheme-switcher__accent-badge-preview--neutral {
  @apply bg-neutral-400 dark:bg-neutral-500;
  background-image: linear-gradient(135deg, transparent 45%, white 45%, white 55%, transparent 55%);
}

/* Show accent badge based on body accent class */
.accent-red .color-scheme-switcher__accent-badge,
.accent-orange .color-scheme-switcher__accent-badge,
.accent-amber .color-scheme-switcher__accent-badge,
.accent-yellow .color-scheme-switcher__accent-badge,
.accent-lime .color-scheme-switcher__accent-badge,
.accent-green .color-scheme-switcher__accent-badge,
.accent-emerald .color-scheme-switcher__accent-badge,
.accent-teal .color-scheme-switcher__accent-badge,
.accent-cyan .color-scheme-switcher__accent-badge,
.accent-sky .color-scheme-switcher__accent-badge,
.accent-blue .color-scheme-switcher__accent-badge,
.accent-indigo .color-scheme-switcher__accent-badge,
.accent-violet .color-scheme-switcher__accent-badge,
.accent-purple .color-scheme-switcher__accent-badge,
.accent-fuchsia .color-scheme-switcher__accent-badge,
.accent-pink .color-scheme-switcher__accent-badge,
.accent-rose .color-scheme-switcher__accent-badge {
  @apply inline-block;
}

.accent-red .color-scheme-switcher__accent-badge-preview--red,
.accent-orange .color-scheme-switcher__accent-badge-preview--orange,
.accent-amber .color-scheme-switcher__accent-badge-preview--amber,
.accent-yellow .color-scheme-switcher__accent-badge-preview--yellow,
.accent-lime .color-scheme-switcher__accent-badge-preview--lime,
.accent-green .color-scheme-switcher__accent-badge-preview--green,
.accent-emerald .color-scheme-switcher__accent-badge-preview--emerald,
.accent-teal .color-scheme-switcher__accent-badge-preview--teal,
.accent-cyan .color-scheme-switcher__accent-badge-preview--cyan,
.accent-sky .color-scheme-switcher__accent-badge-preview--sky,
.accent-blue .color-scheme-switcher__accent-badge-preview--blue,
.accent-indigo .color-scheme-switcher__accent-badge-preview--indigo,
.accent-violet .color-scheme-switcher__accent-badge-preview--violet,
.accent-purple .color-scheme-switcher__accent-badge-preview--purple,
.accent-fuchsia .color-scheme-switcher__accent-badge-preview--fuchsia,
.accent-pink .color-scheme-switcher__accent-badge-preview--pink,
.accent-rose .color-scheme-switcher__accent-badge-preview--rose {
  @apply inline-block;
}

/* Save button wrapper â€” slides in when dirty, collapses when clean */
.color-scheme-switcher__save-wrapper {
  @apply overflow-hidden inline-flex items-center;
  max-width: 0;
  opacity: 0;
  transition: max-width 0.25s ease-in-out, opacity 0.2s ease-in-out;
}

.color-scheme-switcher__save-wrapper--visible {
  max-width: 80px;
  opacity: 1;
}

/* Save button */
.color-scheme-switcher__save {
  @apply inline-flex items-center justify-center px-2.5 py-1 rounded-md;
  @apply text-xs font-medium whitespace-nowrap;
  @apply bg-primary-500 text-white;
  @apply hover:bg-primary-600 active:scale-95;
  @apply focus:outline-none focus:ring-2 focus:ring-primary-400 focus:ring-offset-1;
  @apply border-0 cursor-pointer;
  transition: background-color 0.15s, transform 0.15s;
}

.color-scheme-switcher__save--success {
  @apply bg-green-500 hover:bg-green-500;
}

.color-scheme-switcher__save--success .color-scheme-switcher__save-text::after {
  content: attr(data-success-text);
}

.color-scheme-switcher__save--success .color-scheme-switcher__save-text {
  font-size: 0;
}

.color-scheme-switcher__save--success .color-scheme-switcher__save-text::after {
  @apply text-xs;
}

.color-scheme-switcher__save--error {
  @apply bg-red-500 hover:bg-red-500;
  animation: color-scheme-switcher-shake 0.3s ease-in-out;
}

.color-scheme-switcher__save-text {
  @apply leading-none;
}

@keyframes color-scheme-switcher-shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-2px); }
  75% { transform: translateX(2px); }
}
